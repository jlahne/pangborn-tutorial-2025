<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 How to work with R | An introduction to R for sensory and consumer scientists</title>
  <meta name="description" content="2 How to work with R | An introduction to R for sensory and consumer scientists" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="2 How to work with R | An introduction to R for sensory and consumer scientists" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="lhami/pangborn-tutorial-2023" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 How to work with R | An introduction to R for sensory and consumer scientists" />
  
  
  

<meta name="author" content="Jacob Lahne" />
<meta name="author" content="Leah Hamilton" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="a-crash-course-in-r.html"/>
<link rel="next" href="wrangling-data-with-tidyverse-rows-columns-and-groups.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction and welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#introductions"><i class="fa fa-check"></i>Introductions</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#leah-hamilton-phd"><i class="fa fa-check"></i>Leah Hamilton, PhD</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#elizabeth-clark-phd"><i class="fa fa-check"></i>Elizabeth Clark, PhD</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sébastien-lê-phd"><i class="fa fa-check"></i>Sébastien Lê, PhD</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#jacob-lahne-phd"><i class="fa fa-check"></i>Jacob Lahne, PhD</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#todays-agenda"><i class="fa fa-check"></i>Today’s agenda</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-were-going-to-run"><i class="fa fa-check"></i>How we’re going to run</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#recommended-approach-for-livecoding"><i class="fa fa-check"></i>Recommended approach for livecoding</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#dealing-with-errors"><i class="fa fa-check"></i>Dealing with errors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html"><i class="fa fa-check"></i><b>1</b> A crash course in <code>R</code></a>
<ul>
<li class="chapter" data-level="1.1" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#r-vs-rstudio"><i class="fa fa-check"></i><b>1.1</b> <code>R</code> vs RStudio</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#what-is-r"><i class="fa fa-check"></i><b>1.1.1</b> What is <code>R</code>?</a></li>
<li class="chapter" data-level="1.1.2" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#great-why-are-we-using-rstudio-then"><i class="fa fa-check"></i><b>1.1.2</b> Great, why are we using RStudio then?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#the-parts-of-rstudio"><i class="fa fa-check"></i><b>1.2</b> The parts of RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#the-working-directory-and-why-you-should-care"><i class="fa fa-check"></i><b>1.2.1</b> The “working directory” and why you should care</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#extending-r-with-packages"><i class="fa fa-check"></i><b>1.3</b> Extending <code>R</code> with packages</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#installing-packages"><i class="fa fa-check"></i><b>1.3.1</b> Installing packages</a></li>
<li class="chapter" data-level="1.3.2" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#loading-packages"><i class="fa fa-check"></i><b>1.3.2</b> Loading packages</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#getting-help"><i class="fa fa-check"></i><b>1.4</b> Getting help</a></li>
<li class="chapter" data-level="1.5" data-path="a-crash-course-in-r.html"><a href="a-crash-course-in-r.html#livecoding-along"><i class="fa fa-check"></i><b>1.5</b> Livecoding along</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html"><i class="fa fa-check"></i><b>2</b> How to work with R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#doing-math-and-creating-objects-in-r"><i class="fa fa-check"></i><b>2.1</b> Doing math and creating objects in <code>R</code></a></li>
<li class="chapter" data-level="2.2" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#functions-and-their-arguments-in-r"><i class="fa fa-check"></i><b>2.2</b> Functions and their arguments in <code>R</code></a></li>
<li class="chapter" data-level="2.3" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#reading-data-into-r"><i class="fa fa-check"></i><b>2.3</b> Reading data into <code>R</code></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#where-the-data-lives"><i class="fa fa-check"></i><b>2.3.1</b> Where the data lives</a></li>
<li class="chapter" data-level="2.3.2" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#what-kind-of-file-are-we-importing"><i class="fa fa-check"></i><b>2.3.2</b> What kind of file are we importing?</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#data-in-r"><i class="fa fa-check"></i><b>2.4</b> Data in <code>R</code></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#subsetting-data"><i class="fa fa-check"></i><b>2.4.1</b> Subsetting data</a></li>
<li class="chapter" data-level="2.4.2" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#complex-vectorslists-data.frame-and-tibble"><i class="fa fa-check"></i><b>2.4.2</b> Complex vectors/lists: <code>data.frame</code> and <code>tibble</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#subsetting-and-wrangling-data-tables"><i class="fa fa-check"></i><b>2.5</b> Subsetting and wrangling data tables</a></li>
<li class="chapter" data-level="2.6" data-path="how-to-work-with-r.html"><a href="how-to-work-with-r.html#psa-not-knowing-is-normal"><i class="fa fa-check"></i><b>2.6</b> PSA: not-knowing is normal!</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><i class="fa fa-check"></i><b>3</b> Wrangling data with <code>tidyverse</code>: Rows, Columns, and Groups</a>
<ul>
<li class="chapter" data-level="3.1" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#subsetting-data-1"><i class="fa fa-check"></i><b>3.1</b> Subsetting data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#select-for-columns"><i class="fa fa-check"></i><b>3.1.1</b> <code>select()</code> for columns</a></li>
<li class="chapter" data-level="3.1.2" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#filter-for-rows"><i class="fa fa-check"></i><b>3.1.2</b> <code>filter()</code> for rows</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#combining-steps-with-the-pipe"><i class="fa fa-check"></i><b>3.2</b> Combining steps with the pipe: <code>%&gt;%</code></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#pipes-require-that-the-lefthand-side-be-a-single-functional-command"><i class="fa fa-check"></i><b>3.2.1</b> Pipes require that the lefthand side be a single functional command</a></li>
<li class="chapter" data-level="3.2.2" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#pipes-always-pass-the-result-of-the-lefthand-side-to-the-first-argument-of-the-righthand-side"><i class="fa fa-check"></i><b>3.2.2</b> Pipes always pass the result of the lefthand side to the <em>first</em> argument of the righthand side</a></li>
<li class="chapter" data-level="3.2.3" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#pipes-are-a-pain-to-type"><i class="fa fa-check"></i><b>3.2.3</b> Pipes are a pain to type</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#make-new-columns-mutate"><i class="fa fa-check"></i><b>3.3</b> Make new columns: <code>mutate()</code></a></li>
<li class="chapter" data-level="3.4" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#split-apply-combine-analyses"><i class="fa fa-check"></i><b>3.4</b> Split-apply-combine analyses</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#groups-of-data-split-apply"><i class="fa fa-check"></i><b>3.4.1</b> Groups of data: Split-apply</a></li>
<li class="chapter" data-level="3.4.2" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#split-apply-combine-in-fewer-steps-with-summarize"><i class="fa fa-check"></i><b>3.4.2</b> Split-apply-combine in fewer steps with <code>summarize()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="wrangling-data-with-tidyverse-rows-columns-and-groups.html"><a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html#groups-of-columns-and-across"><i class="fa fa-check"></i><b>3.5</b> Groups of columns and across()</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><i class="fa fa-check"></i><b>4</b> Wrangling data with <code>tidyverse</code>: Reshaping and combining tables</a>
<ul>
<li class="chapter" data-level="4.1" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#pivot-tables--wider-and-longer-data"><i class="fa fa-check"></i><b>4.1</b> Pivot tables- wider and longer data</a></li>
<li class="chapter" data-level="4.2" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#combining-data"><i class="fa fa-check"></i><b>4.2</b> Combining data</a></li>
<li class="chapter" data-level="4.3" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#utilities-for-data-management"><i class="fa fa-check"></i><b>4.3</b> Utilities for data management</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#rename-your-columns"><i class="fa fa-check"></i><b>4.3.1</b> Rename your columns</a></li>
<li class="chapter" data-level="4.3.2" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#relocate-your-columns"><i class="fa fa-check"></i><b>4.3.2</b> Relocate your columns</a></li>
<li class="chapter" data-level="4.3.3" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#remove-missing-values"><i class="fa fa-check"></i><b>4.3.3</b> Remove missing values</a></li>
<li class="chapter" data-level="4.3.4" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#counting-categorical-variables"><i class="fa fa-check"></i><b>4.3.4</b> Counting categorical variables</a></li>
<li class="chapter" data-level="4.3.5" data-path="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html"><a href="wrangling-data-with-tidyverse-reshaping-and-combining-tables.html#sort-your-data"><i class="fa fa-check"></i><b>4.3.5</b> Sort your data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html"><i class="fa fa-check"></i><b>5</b> Untidy Data Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html#correspondence-analysis-overview"><i class="fa fa-check"></i><b>5.1</b> Correspondence Analysis Overview</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html#the-ca-package"><i class="fa fa-check"></i><b>5.1.1</b> The CA package</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html#categorical-character-binomial-binary-and-count-data"><i class="fa fa-check"></i><b>5.2</b> Categorical, Character, Binomial, Binary, and Count data</a></li>
<li class="chapter" data-level="5.3" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html#untidy-analysis"><i class="fa fa-check"></i><b>5.3</b> Untidy Analysis</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html#untidying-data"><i class="fa fa-check"></i><b>5.3.1</b> Untidying Data</a></li>
<li class="chapter" data-level="5.3.2" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html#data-analysis"><i class="fa fa-check"></i><b>5.3.2</b> Data Analysis</a></li>
<li class="chapter" data-level="5.3.3" data-path="untidy-data-analysis.html"><a href="untidy-data-analysis.html#retidying-data"><i class="fa fa-check"></i><b>5.3.3</b> Retidying Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html"><i class="fa fa-check"></i><b>6</b> Data visualization basics with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#built-in-plots-with-the-ca-package"><i class="fa fa-check"></i><b>6.1</b> Built-in plots with the ca package</a></li>
<li class="chapter" data-level="6.2" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#basics-of-tidy-graphics"><i class="fa fa-check"></i><b>6.2</b> Basics of Tidy Graphics</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#the-aes-function-and-mapping-argument"><i class="fa fa-check"></i><b>6.2.1</b> The <code>aes()</code> function and <code>mapping =</code> argument</a></li>
<li class="chapter" data-level="6.2.2" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#adding-layers-with-geom_-functions"><i class="fa fa-check"></i><b>6.2.2</b> Adding layers with <code>geom_*()</code> functions</a></li>
<li class="chapter" data-level="6.2.3" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#geoms-for-categorical-ordinal-or-unevenly-distributed-data"><i class="fa fa-check"></i><b>6.2.3</b> Geoms for categorical, ordinal, or unevenly-distributed data</a></li>
<li class="chapter" data-level="6.2.4" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#arguments-inside-and-outside-of-aes"><i class="fa fa-check"></i><b>6.2.4</b> Arguments inside and outside of <code>aes()</code></a></li>
<li class="chapter" data-level="6.2.5" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#using-theme_-to-change-visual-options-quickly"><i class="fa fa-check"></i><b>6.2.5</b> Using <code>theme_*()</code> to change visual options quickly</a></li>
<li class="chapter" data-level="6.2.6" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#changing-aesthetic-elements-with-scale_-functions"><i class="fa fa-check"></i><b>6.2.6</b> Changing aesthetic elements with <code>scale_*()</code> functions</a></li>
<li class="chapter" data-level="6.2.7" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#finally-facet_"><i class="fa fa-check"></i><b>6.2.7</b> Finally, <code>facet_*()</code></a></li>
<li class="chapter" data-level="6.2.8" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#the-ggplot-rabbithole"><i class="fa fa-check"></i><b>6.2.8</b> The ggplot rabbithole</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-visualization-basics-with-ggplot2.html"><a href="data-visualization-basics-with-ggplot2.html#better-ca-plots-with-ggplot2"><i class="fa fa-check"></i><b>6.3</b> Better CA plots with ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="wrap-up-and-further-resources.html"><a href="wrap-up-and-further-resources.html"><i class="fa fa-check"></i><b>7</b> Wrap-up and further resources</a>
<ul>
<li class="chapter" data-level="7.1" data-path="wrap-up-and-further-resources.html"><a href="wrap-up-and-further-resources.html#getting-help-1"><i class="fa fa-check"></i><b>7.1</b> Getting help</a></li>
<li class="chapter" data-level="7.2" data-path="wrap-up-and-further-resources.html"><a href="wrap-up-and-further-resources.html#learning-more-with-sensometrics-society"><i class="fa fa-check"></i><b>7.2</b> Learning more with Sensometrics Society</a></li>
<li class="chapter" data-level="7.3" data-path="wrap-up-and-further-resources.html"><a href="wrap-up-and-further-resources.html#further-readingresources"><i class="fa fa-check"></i><b>7.3</b> Further reading/resources</a></li>
<li class="chapter" data-level="7.4" data-path="wrap-up-and-further-resources.html"><a href="wrap-up-and-further-resources.html#questionscomments"><i class="fa fa-check"></i><b>7.4</b> Questions/Comments</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An introduction to R for sensory and consumer scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="how-to-work-with-r" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> How to work with R<a href="how-to-work-with-r.html#how-to-work-with-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Now that we’ve all got R up and running, we’re going to quickly go over the basic functionality of <code>R</code> to make sure everyone is on the same page. If you have ever used <code>R</code>, this might include some review, but my hope is that this will be helpful to everyone and get us all on the same page before we launch into some more advanced applications.</p>
<p>We’re going to speed through the basics of the console (working interactively with <code>R</code>) and then some of the “programming”/“coding” capabilities in <code>R</code>.</p>
<div id="doing-math-and-creating-objects-in-r" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Doing math and creating objects in <code>R</code><a href="how-to-work-with-r.html#doing-math-and-creating-objects-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>At it’s most basic, <code>R</code> can be a calculator. If you type math into the <code>Console</code> and hit <code>return</code> it will do math for you!</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="how-to-work-with-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="how-to-work-with-r.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1000</span> <span class="sc">/</span> <span class="fl">3.5</span></span></code></pre></div>
<pre><code>## [1] 285.7143</code></pre>
<p>To get the most out of R, though, we are going to want to use its abilities as a programming language. Among some other topics that I won’t explicitly cover today, this means using <code>R</code> to store values (and later objects that contain multiple lines of values, like you’d get in an Excel spreadsheet).</p>
<p>This set of characters is the <strong>assignment operator</strong>: <code>&lt;-</code>. It works like this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="how-to-work-with-r.html#cb15-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb15-2"><a href="how-to-work-with-r.html#cb15-2" aria-hidden="true" tabindex="-1"></a>hi <span class="ot">&lt;-</span> <span class="st">&quot;hello world&quot;</span></span>
<span id="cb15-3"><a href="how-to-work-with-r.html#cb15-3" aria-hidden="true" tabindex="-1"></a>data_set <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>… but that didn’t do anything! Where’s the output? Well, we can do two things. First, look at the “Environment” tab in your RStudio after you run the above code chunk. You’ll notice that there are 3 new things there: <code>x</code>, <code>hi</code>, and <code>data_set</code>. In general I am going to call those <strong>objects</strong>–they are stored variables, which R now knows about by name. How did it learn about them? You guessed it: the assignment operator: <code>&lt;-</code>.</p>
<p>To be explicit: <code>x &lt;- 100</code> can be read in English as “x gets 100” (what a lot of programmers like to say) or, in a clearer but longer way, “assign 100 to a variable called x”.</p>
<p><strong>NB</strong>: R also allows you to use <code>=</code> as an assignment operator. <strong>DO NOT DO THIS!</strong>. There are two good reasons.</p>
<ol style="list-style-type: decimal">
<li>It is ambiguous, because it is not directional (how are you sure what is getting assigned where?)</li>
<li>This makes your code super confusing because <code>=</code> is the <em>only</em> assignment operator for <em>arguments</em> in functions (as in <code>print(quote = FALSE)</code> see below for more on this)</li>
<li>Anyone who has used R for a while who sees you do this will roll their eyes and kind of make fun of you a little bit</li>
</ol>
<p><strong>NB2</strong>: Because it is directional, it is actually possible to use <code>-&gt;</code> as an assignment operator as well. What do you think it does? Check and find out.</p>
<p>If you find typing <code>&lt;-</code> a pain (reasonably), RStudio provides a keyboard shortcut: either <code>option + -</code> on Mac or <code>Alt + -</code> on PC.</p>
<p>I am going to use the terms “object” and “variable” interchangeably in this workshop–in other programming languages there are hard distinctions between these concepts, and even in some <code>R</code> packages this can be important, but for our purposes I mean the same thing if I am sloppy.</p>
<p>The advantage of storing values into objects is that we can do math with them, change them, and duplicate and store them elsewhere.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="how-to-work-with-r.html#cb16-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> <span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="how-to-work-with-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 101</code></pre>
<p>Note that doing math with a variable doesn’t change the variable itself. To do that, you have to use the assignment <code>&lt;-</code> to change the value of the variable again:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="how-to-work-with-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="how-to-work-with-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb22-2"><a href="how-to-work-with-r.html#cb22-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 101</code></pre>
</div>
<div id="functions-and-their-arguments-in-r" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Functions and their arguments in <code>R</code><a href="how-to-work-with-r.html#functions-and-their-arguments-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Obviously if we’re using <code>R</code> as a calculator we might want to do more than basic arithmetic. What about taking the square root of <code>x</code>?</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="how-to-work-with-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(x)</span></code></pre></div>
<pre><code>## [1] 10.04988</code></pre>
<p>In fact, we can ask R to do lots of neat stuff, like generate random numbers for us. For example, here are 100 random numbers from a normal distribution with mean of 0 and standard deviation of 1.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="how-to-work-with-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##   [1] -0.817685110  0.201152377 -1.071774749 -1.224584643 -0.371708145
##   [6]  0.202118981 -0.016109239  2.348819210 -0.400830922  1.109840793
##  [11] -0.367812885  0.453660107 -0.303437762  1.274748698 -2.097878251
##  [16]  1.557493741  0.856844279 -0.325518728 -0.372224056  0.049242839
##  [21] -0.756189885  2.071136762  1.794900330 -0.386906112 -0.888441856
##  [26]  0.888011180 -0.655852076 -0.703391039  1.477231069  3.159130327
##  [31]  0.249453619  1.911644948 -0.147883108  1.753066221 -0.510659614
##  [36]  0.676239754 -0.462741938  0.722808260 -0.982828210 -0.931724341
##  [41]  0.476143199  0.167080937 -0.982189220  1.657857273  1.366360717
##  [46] -1.404160479 -1.318165302 -1.416507978 -1.285776466 -0.661263391
##  [51] -0.153887857  0.204531137 -0.030454422 -1.547247122  0.131458897
##  [56] -0.962992329  1.464009478  0.810420155 -1.171066988 -1.943981866
##  [61]  0.219626093  0.312425983 -0.865671783  0.609384640 -0.407829773
##  [66] -1.451028766 -0.001936591  1.661404145 -2.882450854  0.159143901
##  [71] -0.481442405  0.821825839  1.126861277  0.105922580  1.524592857
##  [76]  0.519303422 -0.107379955 -1.008023497 -1.934083946  1.698295558
##  [81] -0.648037741 -0.638706550 -2.286233717  0.457099132  1.148283087
##  [86]  0.456779392  0.955835626  0.623830541 -1.155282709 -0.257100605
##  [91] -0.271969756 -1.471053878  0.036452776 -0.195503227 -0.864964154
##  [96]  2.216331908 -0.169473846  1.734705945  0.260645234 -1.482721218</code></pre>
<p>These forms are called a <strong>function</strong> in R. Functions lie at the heart of <code>R</code>’s power: they are pre-written scripts that are included with base <code>R</code> or added in packages, like the ones we installed. In general, an <code>R</code> function will have a form like <code>&lt;name&gt;(&lt;argument&gt;, &lt;argument&gt;, ...)</code>. In other words, the function will have a name (that lets <code>R</code> know what you’re trying to do) followed by an open parenthesis, and inside that a list of arguments, which are variables, objects, values, etc that you “pass” to the function, finally followed by a close parenthesis. In the case of our <code>sqrt()</code> function, there is only a single argument: a variable to which the square-root operation will be applied. In the case of the <code>rnorm()</code> function there are 3 arguments: the number of values we want, <code>n</code>, and the <code>mean</code> and standard deviation <code>sd</code> of the normal distribution we wish to sample from.</p>
<p>Functions are the <code>R</code> tools for which you can make the most use of the help operator: <code>?</code>. Try typing <code>?rnorm</code> into your console, and when you hit <code>return</code> you’ll see the help page for the function.</p>
<p>Notice that in the <code>rnorm()</code> example we <em>named</em> the arguments–we told <code>R</code> which was the <code>n</code>, <code>mean</code>, and <code>sd</code>. This is because if we name arguments, we can give them in any order. Otherwise, <code>R</code> will try to match the provided values to the arguments <strong>in the order in which they are given in the help file</strong>. This is a major source of errors for newer <code>R</code> users!</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="how-to-work-with-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will give us 1 value from the normal distribution with mean = 0 and sd = 100</span></span>
<span id="cb28-2"><a href="how-to-work-with-r.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] -130.0599</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="how-to-work-with-r.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># But we can also use named arguments to provide them in any order we wish!</span></span>
<span id="cb30-2"><a href="how-to-work-with-r.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">sd =</span> <span class="dv">1</span>, <span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">0</span>)</span></code></pre></div>
<pre><code>##   [1] -1.305967194  0.833838602  2.055708347  1.148340695 -1.975784664
##   [6]  1.272842205 -1.816663768 -1.065154652  1.334737745 -0.789520572
##  [11]  1.093223730 -1.449656669 -0.075943477 -0.076770678  0.629619179
##  [16] -0.235792194  0.282821782  0.398656245 -0.516286787 -0.573390347
##  [21]  0.847637216 -0.108346417  0.093116262 -0.800869021 -0.017547694
##  [26]  1.773355629  0.302902009 -0.579775107  0.692745358 -0.577940024
##  [31]  1.100826892 -0.016906361 -0.725611016 -0.653119981  1.402995644
##  [36]  0.735565613 -1.202475574  0.802287429 -0.007062299  0.273570813
##  [41]  0.838437233  0.549700070 -1.766065796  0.180132432  1.593446326
##  [46] -0.498796913  0.499469802 -0.027801746 -0.905313735 -0.012029211
##  [51] -0.825973068 -0.790924859  0.692281877  0.027140777 -1.511327360
##  [56]  0.108679341 -0.259232705 -1.076976856  0.607391104 -0.755897513
##  [61] -0.655911421  1.492628283  0.877401709  0.376582939  0.661203283
##  [66]  0.451127238  0.561445617 -1.015280512 -0.543614135  0.471003336
##  [71] -0.174258563 -0.021928594  0.421090651 -1.351618719  1.276840685
##  [76]  0.980765127 -0.041995270 -1.485061461 -1.822049129  0.038704302
##  [81]  0.355441696 -0.675691487  0.555490200  0.942430888  0.654592486
##  [86]  0.545253426  0.139770261  1.568669538 -0.530368597 -0.765494538
##  [91] -1.067672750  0.014948603 -0.265742283 -1.965178672  0.345987647
##  [96] -2.252388351  0.893178997 -0.399286173  0.533278596  0.475754894</code></pre>
<p>Programming languages like <code>R</code> are very literal, and we need to be as literal as we can to make them work the way we want them to.</p>
</div>
<div id="reading-data-into-r" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Reading data into <code>R</code><a href="how-to-work-with-r.html#reading-data-into-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far we’ve only done very basic things with <code>R</code>, which probably haven’t sold you on its power and utility. Let’s try doing some things that will hopefully get us a little further towards actual, useful applications.</p>
<p>First off, make sure you have the <code>tidyverse</code> package loaded by using the <code>library()</code> function.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="how-to-work-with-r.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>Now, we’re going to read in the data we’re going to use for this workshop using the function <code>read_csv()</code>. If you want to learn about this function, use the <code>?read_csv</code> command to get some details.</p>
<p>In the workshop archive you downloaded, the <code>data/</code> directory has a file called <code>clt-berry-data.csv</code>. If you double-click this in your file browser, it will (most likely) open in Excel, and you can take a look at it. The data describe the attributes and liking scores reported by consumers for a variety of berries across multiple CLTs. A total of 969 participants (<code>Subject Code</code>) and 23 berries (<code>Sample Name</code>) were involved in these tests, with only one species of berry (blackberry, blueberry, raspberry, or strawberry) presented during each CLT. In the actual experimental design, subjects got multiple sample sets (so there are <em>not</em> 969 unique subjects), but here we will treat them as unique for ease of description.</p>
<p>As for the survey, panelists were asked JAR, CATA, and free response questions, as well as liking on the Unlabeled Line Scale (<code>us_*</code>), 9-point scale (<code>9pt_*</code>), or labeled magnitude scale (<code>lms_*</code>).</p>
<p>To get this data into <code>R</code>, we have to tell <code>R</code> where it lives on your computer, and what kind of data it is.</p>
<div id="where-the-data-lives" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Where the data lives<a href="how-to-work-with-r.html#where-the-data-lives" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We touched on <strong>working directories</strong> because this is how <code>R</code> “sees” your computer. It will look first in the working directory, and then you will have to tell it where the file is <em>relative</em> to that directory. If you have been following along and opened up the <code>.Rproj</code> file in the downloaded archive, your working directory should be the archive’s top level, which will mean that we only need to point <code>R</code> towards the <code>data/</code> folder and then the <code>clt-berry-data.csv</code> file. We can check the working directory with the <code>getwd()</code> function.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="how-to-work-with-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<pre><code>## [1] &quot;C:/Users/Leah/Documents/R/pangborn-r-tutorial-2023&quot;</code></pre>
<p>Therefore, <strong>relative to the working directory</strong>, the file path to this data is <code>data/clt-berry-data.csv</code>. Please note that this is the UNIX convention for file paths: in Windows, the backslash <code>\</code> is used to separate directories. Happily, RStudio will translate between the two conventions, so you can just follow along with the macOS/UNIX convention in this workshop.</p>
</div>
<div id="what-kind-of-file-are-we-importing" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> What kind of file are we importing?<a href="how-to-work-with-r.html#what-kind-of-file-are-we-importing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first step is to notice this is a <code>.csv</code> file, which stands for <strong>c</strong>omma-<strong>s</strong>eparated <strong>v</strong>alue. This means our data, in raw format, looks something like this:</p>
<pre><code># Comma-separated data

cat_acquisition_order,name,weight\n
1,Nick,9\n
2,Margot,10\n
3,Little Guy,13\n</code></pre>
<p>Each line represents a row of data, and each field is separated by a comma (<code>,</code>). We can read this kind of data into <code>R</code> by using the <code>read_csv()</code> function.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="how-to-work-with-r.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">&quot;data/clt-berry-data.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 7507 Columns: 92
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (7): Start Time (UTC), End Time (UTC), Sample Name, verbal_likes, verba...
## dbl (83): Subject Code, Participant Name, Serving Position, Sample Identifie...
## lgl  (2): Gender, Age
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre><code>## # A tibble: 7,507 × 92
##    `Subject Code` `Participant Name` Gender Age   `Start Time (UTC)`
##             &lt;dbl&gt;              &lt;dbl&gt; &lt;lgl&gt;  &lt;lgl&gt; &lt;chr&gt;             
##  1           1001               1001 NA     NA    6/13/2019 21:05   
##  2           1001               1001 NA     NA    6/13/2019 20:55   
##  3           1001               1001 NA     NA    6/13/2019 20:49   
##  4           1001               1001 NA     NA    6/13/2019 20:45   
##  5           1001               1001 NA     NA    6/13/2019 21:00   
##  6           1001               1001 NA     NA    6/13/2019 21:10   
##  7           1002               1002 NA     NA    6/13/2019 20:08   
##  8           1002               1002 NA     NA    6/13/2019 19:57   
##  9           1002               1002 NA     NA    6/13/2019 20:13   
## 10           1002               1002 NA     NA    6/13/2019 20:03   
## # ℹ 7,497 more rows
## # ℹ 87 more variables: `End Time (UTC)` &lt;chr&gt;, `Serving Position` &lt;dbl&gt;,
## #   `Sample Identifier` &lt;dbl&gt;, `Sample Name` &lt;chr&gt;, `9pt_appearance` &lt;dbl&gt;,
## #   pre_expectation &lt;dbl&gt;, jar_color &lt;dbl&gt;, jar_gloss &lt;dbl&gt;, jar_size &lt;dbl&gt;,
## #   cata_appearance_unevencolor &lt;dbl&gt;, cata_appearance_misshapen &lt;dbl&gt;,
## #   cata_appearance_creased &lt;dbl&gt;, cata_appearance_seedy &lt;dbl&gt;,
## #   cata_appearance_bruised &lt;dbl&gt;, cata_appearance_notfresh &lt;dbl&gt;, …</code></pre>
<p>Suddenly, we have tabular data (i.e., data in rows and columns), like we’d have in Excel! Now we’re getting somewhere. However, before we go forward we’ll have to store this data somewhere–right now we’re just reading it and throwing it away.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="how-to-work-with-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a>berry_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">&quot;data/clt-berry-data.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 7507 Columns: 92
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (7): Start Time (UTC), End Time (UTC), Sample Name, verbal_likes, verba...
## dbl (83): Subject Code, Participant Name, Serving Position, Sample Identifie...
## lgl  (2): Gender, Age
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>As a note, in many countries the separator (delimiter) will be the semi-colon (<code>;</code>), since the comma is used as the decimal marker. To read files formatted this way, you can use the <code>read_csv2()</code> function. If you encounter tab-separated values files (<code>.tsv</code>) you can use the <code>read_tsv()</code> function. If you have more non-standard delimiters, you can use the <code>read_delim()</code> function, which will allow you to specify your own delimiter characters. You can also read many other formats of tabular data using the <code>rio</code> package (“read input/output”), which can be installed from CRAN (using, as you have learned, <code>install.packages("rio")</code>).</p>
</div>
</div>
<div id="data-in-r" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Data in <code>R</code><a href="how-to-work-with-r.html#data-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s take a look at the <code>Environment</code> tab. Among some other objects you may have created (like <code>x</code>), you should see <code>berry_data</code> listed. This is a type of data called a <code>data.frame</code> in <code>R</code>, and it is going to be, for the most part, the kind of data you interact with most. Let’s learn about how these types of objects work by doing a quick review of the basics.</p>
<p>We started by creating an object called <code>x</code> and storing a number (<code>100</code>) into it. What kind of thing is this?</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="how-to-work-with-r.html#cb41-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb41-2"><a href="how-to-work-with-r.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="how-to-work-with-r.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p><code>R</code> has a bunch of basic data types, including the above “numeric” data type, which is a “real number” (in computer terms, a floating-point double as opposed to an integer). It can also store logical values (<code>TRUE</code> and <code>FALSE</code>), integers, characters/strings (which are what we’re really here to deal with) and some more exotic data types you won’t encounter very much. What <code>R</code> does that makes it good for data analysis is that it stores these all as <strong>vectors</strong>: 1-dimensional arrays of the same type of data. So, in fact, <code>x</code> is a length-1 vector of numeric data:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="how-to-work-with-r.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>The operator to explicitly make a vector in <code>R</code> is the <code>c()</code> function, which stands for “combine”. So if we want to make a vector of a few values, we use this function as so:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="how-to-work-with-r.html#cb47-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">10</span>, <span class="dv">50</span>)</span>
<span id="cb47-2"><a href="how-to-work-with-r.html#cb47-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1]  1  2  3 10 50</code></pre>
<p>We can also use <code>c()</code> to combine pre-existing objects:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="how-to-work-with-r.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(x, y)</span></code></pre></div>
<pre><code>## [1] 100   1   2   3  10  50</code></pre>
<p>You can have vectors of other types of objects:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="how-to-work-with-r.html#cb51-1" aria-hidden="true" tabindex="-1"></a>animals <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;fox&quot;</span>, <span class="st">&quot;bat&quot;</span>, <span class="st">&quot;rat&quot;</span>, <span class="st">&quot;cat&quot;</span>)</span>
<span id="cb51-2"><a href="how-to-work-with-r.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(animals)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>If we try to combine vectors of 2 types of data, <code>R</code> will “coerce” the data types to match to the less restrictive type, in the following order: <code>logical &gt; integer &gt; numeric &gt; character</code>. So if we combine <code>y</code> and <code>animals</code>, we’ll turn the numbers into their character representations. I mention this because it can be a source of error and confusion when we are working with large datasets, as we may see.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="how-to-work-with-r.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(y, animals)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;10&quot;  &quot;50&quot;  &quot;fox&quot; &quot;bat&quot; &quot;rat&quot; &quot;cat&quot;</code></pre>
<p>For example, we can divide all the numbers in <code>y</code> by <code>2</code>, but if we try to divide <code>c(y, animals)</code> by <code>2</code> we will get an error:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="how-to-work-with-r.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(y, animals) <span class="sc">/</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## Error in c(y, animals)/2: non-numeric argument to binary operator</code></pre>
<p>For vectors (and more complex objects), we can use the <code>str()</code> (“structure”) function to get some details about their nature and what they contain:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="how-to-work-with-r.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(y)</span></code></pre></div>
<pre><code>##  num [1:5] 1 2 3 10 50</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="how-to-work-with-r.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(animals)</span></code></pre></div>
<pre><code>##  chr [1:4] &quot;fox&quot; &quot;bat&quot; &quot;rat&quot; &quot;cat&quot;</code></pre>
<p>This <code>str()</code> function is especially useful when we have big, complicated datasets, like <code>berry_data</code>:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="how-to-work-with-r.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(berry_data)</span></code></pre></div>
<pre><code>## spc_tbl_ [7,507 × 92] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Subject Code               : num [1:7507] 1001 1001 1001 1001 1001 ...
##  $ Participant Name           : num [1:7507] 1001 1001 1001 1001 1001 ...
##  $ Gender                     : logi [1:7507] NA NA NA NA NA NA ...
##  $ Age                        : logi [1:7507] NA NA NA NA NA NA ...
##  $ Start Time (UTC)           : chr [1:7507] &quot;6/13/2019 21:05&quot; &quot;6/13/2019 20:55&quot; &quot;6/13/2019 20:49&quot; &quot;6/13/2019 20:45&quot; ...
##  $ End Time (UTC)             : chr [1:7507] &quot;6/13/2019 21:09&quot; &quot;6/13/2019 20:59&quot; &quot;6/13/2019 20:53&quot; &quot;6/13/2019 20:48&quot; ...
##  $ Serving Position           : num [1:7507] 5 3 2 1 4 6 3 1 4 2 ...
##  $ Sample Identifier          : num [1:7507] 1426 3167 4624 5068 7195 ...
##  $ Sample Name                : chr [1:7507] &quot;raspberry 6&quot; &quot;raspberry 5&quot; &quot;raspberry 2&quot; &quot;raspberry 3&quot; ...
##  $ 9pt_appearance             : num [1:7507] 4 8 4 7 7 7 6 8 8 7 ...
##  $ pre_expectation            : num [1:7507] 2 4 2 4 3 4 2 3 5 3 ...
##  $ jar_color                  : num [1:7507] 2 3 2 2 4 4 2 3 3 2 ...
##  $ jar_gloss                  : num [1:7507] 4 3 2 3 3 3 4 3 4 4 ...
##  $ jar_size                   : num [1:7507] 2 3 3 4 3 3 4 3 5 3 ...
##  $ cata_appearance_unevencolor: num [1:7507] 0 0 0 0 1 0 0 1 1 1 ...
##  $ cata_appearance_misshapen  : num [1:7507] 1 0 0 0 1 0 0 0 0 0 ...
##  $ cata_appearance_creased    : num [1:7507] 0 0 0 0 0 0 0 0 1 1 ...
##  $ cata_appearance_seedy      : num [1:7507] 0 0 0 0 0 0 0 0 0 0 ...
##  $ cata_appearance_bruised    : num [1:7507] 0 0 0 0 0 0 0 0 1 1 ...
##  $ cata_appearance_notfresh   : num [1:7507] 1 0 1 0 0 0 0 0 0 0 ...
##  $ cata_appearance_fresh      : num [1:7507] 0 1 0 1 0 1 1 1 1 1 ...
##  $ cata_appearance_goodshape  : num [1:7507] 0 1 0 1 0 1 1 1 0 0 ...
##  $ cata_appearance_goodquality: num [1:7507] 0 1 0 1 0 1 1 1 1 0 ...
##  $ cata_appearance_none       : num [1:7507] 0 0 0 0 0 0 0 0 0 0 ...
##  $ 9pt_overall                : num [1:7507] 4 9 3 7 4 4 4 7 7 9 ...
##  $ verbal_likes               : chr [1:7507] &quot;Out of the two, there was one that had a good sweetness to it&quot; &quot;It was firm to the touch but was very delicate when you bit on it. There was an even amount of tart and sweetne&quot;| __truncated__ &quot;It was firm to the touch&quot; &quot;It had a naturally sweet flavor both from the start and the finish&quot; ...
##  $ verbal_dislikes            : chr [1:7507] &quot;There were different flavors coming from each and different sizes. The first was a smaller than normal one and &quot;| __truncated__ &quot;They seemed bigger in size than normal raspberries&quot; &quot;It did not have the fresh flavor of a normal raspberry. Instead, it felt like there were other ingredients adde&quot;| __truncated__ &quot;It felt too delicate from the touch&quot; ...
##  $ 9pt_taste                  : num [1:7507] 4 9 3 6 3 3 4 4 6 9 ...
##  $ grid_sweetness             : num [1:7507] 3 6 3 6 2 3 3 2 2 6 ...
##  $ grid_tartness              : num [1:7507] 6 5 5 3 5 6 5 5 5 2 ...
##  $ grid_raspberryflavor       : num [1:7507] 4 7 2 6 2 3 2 6 2 7 ...
##  $ jar_sweetness              : num [1:7507] 2 3 2 3 2 1 1 1 1 3 ...
##  $ jar_tartness               : num [1:7507] 4 3 3 3 4 5 4 4 4 3 ...
##  $ cata_taste_floral          : num [1:7507] 0 0 0 1 0 0 0 1 1 1 ...
##  $ cata_taste_berry           : num [1:7507] 1 1 0 1 0 0 0 1 0 1 ...
##  $ cata_taste_green           : num [1:7507] 0 0 0 1 1 1 0 0 1 0 ...
##  $ cata_taste_grassy          : num [1:7507] 0 0 0 0 1 1 1 0 1 0 ...
##  $ cata_taste_fermented       : num [1:7507] 0 0 1 0 0 0 0 0 0 0 ...
##  $ cata_taste_tropical        : num [1:7507] 1 1 0 0 0 0 0 0 0 1 ...
##  $ cata_taste_fruity          : num [1:7507] 1 1 0 1 0 0 0 0 0 1 ...
##  $ cata_taste_citrus          : num [1:7507] 1 0 0 0 0 1 1 0 0 0 ...
##  $ cata_taste_earthy          : num [1:7507] 0 0 0 0 1 0 0 1 0 0 ...
##  $ cata_taste_candy           : num [1:7507] 0 0 1 0 0 0 0 0 0 0 ...
##  $ cata_taste_none            : num [1:7507] 0 0 0 0 0 0 0 0 0 0 ...
##  $ 9pt_texture                : num [1:7507] 6 8 2 8 5 6 6 9 8 7 ...
##  $ grid_seediness             : num [1:7507] 3 5 6 3 5 5 6 4 6 5 ...
##  $ grid_firmness              : num [1:7507] 5 5 5 2 6 5 5 6 5 3 ...
##  $ grid_juiciness             : num [1:7507] 2 5 2 2 2 4 2 4 2 3 ...
##  $ jar_firmness               : num [1:7507] 3 3 4 2 4 3 3 3 3 2 ...
##  $ jar_juciness               : num [1:7507] 2 3 1 2 2 2 1 2 1 3 ...
##  $ post_expectation           : num [1:7507] 1 5 2 4 2 2 2 2 2 5 ...
##  $ price                      : num [1:7507] 1.99 4.99 2.99 4.99 2.99 3.99 3.99 3.99 2.99 4.99 ...
##  $ product_tier               : num [1:7507] 1 3 2 3 1 2 2 2 1 3 ...
##  $ purchase_intent            : num [1:7507] 1 5 2 4 2 2 3 4 2 5 ...
##  $ subject                    : num [1:7507] 1031946 1031946 1031946 1031946 1031946 ...
##  $ test_day                   : chr [1:7507] &quot;Raspberry Day 1&quot; &quot;Raspberry Day 1&quot; &quot;Raspberry Day 1&quot; &quot;Raspberry Day 1&quot; ...
##  $ us_appearance              : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ us_overall                 : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ us_taste                   : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ us_texture                 : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ lms_appearance             : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ lms_overall                : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ lms_taste                  : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ lms_texture                : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_appearane_bruised     : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_appearance_goodshapre : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_appearance_goodcolor  : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ grid_blackberryflavor      : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_cinnamon        : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_lemon           : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_clove           : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_minty           : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_grape           : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ grid_crispness             : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ jar_crispness              : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ jar_juiciness              : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_appearane_creased     : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ grid_blueberryflavor       : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_piney           : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_peachy          : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ 9pt_aroma                  : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ grid_strawberryflavor      : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_caramel         : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_grapey          : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_melon           : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ cata_taste_cherry          : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ grid_crunchiness           : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ jar_crunch                 : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ us_aroma                   : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ lms_aroma                  : num [1:7507] NA NA NA NA NA NA NA NA NA NA ...
##  $ berry                      : chr [1:7507] &quot;raspberry&quot; &quot;raspberry&quot; &quot;raspberry&quot; &quot;raspberry&quot; ...
##  $ sample                     : num [1:7507] 6 5 2 3 4 1 6 5 2 3 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   `Subject Code` = col_double(),
##   ..   `Participant Name` = col_double(),
##   ..   Gender = col_logical(),
##   ..   Age = col_logical(),
##   ..   `Start Time (UTC)` = col_character(),
##   ..   `End Time (UTC)` = col_character(),
##   ..   `Serving Position` = col_double(),
##   ..   `Sample Identifier` = col_double(),
##   ..   `Sample Name` = col_character(),
##   ..   `9pt_appearance` = col_double(),
##   ..   pre_expectation = col_double(),
##   ..   jar_color = col_double(),
##   ..   jar_gloss = col_double(),
##   ..   jar_size = col_double(),
##   ..   cata_appearance_unevencolor = col_double(),
##   ..   cata_appearance_misshapen = col_double(),
##   ..   cata_appearance_creased = col_double(),
##   ..   cata_appearance_seedy = col_double(),
##   ..   cata_appearance_bruised = col_double(),
##   ..   cata_appearance_notfresh = col_double(),
##   ..   cata_appearance_fresh = col_double(),
##   ..   cata_appearance_goodshape = col_double(),
##   ..   cata_appearance_goodquality = col_double(),
##   ..   cata_appearance_none = col_double(),
##   ..   `9pt_overall` = col_double(),
##   ..   verbal_likes = col_character(),
##   ..   verbal_dislikes = col_character(),
##   ..   `9pt_taste` = col_double(),
##   ..   grid_sweetness = col_double(),
##   ..   grid_tartness = col_double(),
##   ..   grid_raspberryflavor = col_double(),
##   ..   jar_sweetness = col_double(),
##   ..   jar_tartness = col_double(),
##   ..   cata_taste_floral = col_double(),
##   ..   cata_taste_berry = col_double(),
##   ..   cata_taste_green = col_double(),
##   ..   cata_taste_grassy = col_double(),
##   ..   cata_taste_fermented = col_double(),
##   ..   cata_taste_tropical = col_double(),
##   ..   cata_taste_fruity = col_double(),
##   ..   cata_taste_citrus = col_double(),
##   ..   cata_taste_earthy = col_double(),
##   ..   cata_taste_candy = col_double(),
##   ..   cata_taste_none = col_double(),
##   ..   `9pt_texture` = col_double(),
##   ..   grid_seediness = col_double(),
##   ..   grid_firmness = col_double(),
##   ..   grid_juiciness = col_double(),
##   ..   jar_firmness = col_double(),
##   ..   jar_juciness = col_double(),
##   ..   post_expectation = col_double(),
##   ..   price = col_double(),
##   ..   product_tier = col_double(),
##   ..   purchase_intent = col_double(),
##   ..   subject = col_double(),
##   ..   test_day = col_character(),
##   ..   us_appearance = col_double(),
##   ..   us_overall = col_double(),
##   ..   us_taste = col_double(),
##   ..   us_texture = col_double(),
##   ..   lms_appearance = col_double(),
##   ..   lms_overall = col_double(),
##   ..   lms_taste = col_double(),
##   ..   lms_texture = col_double(),
##   ..   cata_appearane_bruised = col_double(),
##   ..   cata_appearance_goodshapre = col_double(),
##   ..   cata_appearance_goodcolor = col_double(),
##   ..   grid_blackberryflavor = col_double(),
##   ..   cata_taste_cinnamon = col_double(),
##   ..   cata_taste_lemon = col_double(),
##   ..   cata_taste_clove = col_double(),
##   ..   cata_taste_minty = col_double(),
##   ..   cata_taste_grape = col_double(),
##   ..   grid_crispness = col_double(),
##   ..   jar_crispness = col_double(),
##   ..   jar_juiciness = col_double(),
##   ..   cata_appearane_creased = col_double(),
##   ..   grid_blueberryflavor = col_double(),
##   ..   cata_taste_piney = col_double(),
##   ..   cata_taste_peachy = col_double(),
##   ..   `9pt_aroma` = col_double(),
##   ..   grid_strawberryflavor = col_double(),
##   ..   cata_taste_caramel = col_double(),
##   ..   cata_taste_grapey = col_double(),
##   ..   cata_taste_melon = col_double(),
##   ..   cata_taste_cherry = col_double(),
##   ..   grid_crunchiness = col_double(),
##   ..   jar_crunch = col_double(),
##   ..   us_aroma = col_double(),
##   ..   lms_aroma = col_double(),
##   ..   berry = col_character(),
##   ..   sample = col_double()
##   .. )
##  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</code></pre>
<div id="subsetting-data" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Subsetting data<a href="how-to-work-with-r.html#subsetting-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vectors, by nature, are ordered arrays of data (in this case, 1-dimensional arrays). That means they have a first element, a second element, and so on. Our <code>y</code> vector has 5 total elements, and our <code>animals</code> vector has 4 elements. In <code>R</code>, the way to <strong>subset</strong> vectors is to use the <code>[]</code> (square brackets) operator. For a 1-dimensional vector, we use this to select one or more elements:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="how-to-work-with-r.html#cb63-1" aria-hidden="true" tabindex="-1"></a>y[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="how-to-work-with-r.html#cb65-1" aria-hidden="true" tabindex="-1"></a>animals[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;cat&quot;</code></pre>
<p>We can also select multiple elements by using a vector of indices</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="how-to-work-with-r.html#cb67-1" aria-hidden="true" tabindex="-1"></a>animals[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>## [1] &quot;fox&quot; &quot;bat&quot;</code></pre>
<p>A shortcut for a sequence of numbers in <code>R</code> is the <code>:</code> (colon) operator, so this is often used for indexing:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="how-to-work-with-r.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="how-to-work-with-r.html#cb71-1" aria-hidden="true" tabindex="-1"></a>animals[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] &quot;fox&quot; &quot;bat&quot; &quot;rat&quot;</code></pre>
<p>We often want to use programmatic (or “conditional”) logic to subset vectors and more complex datasets. For example, we might want to only select elements of <code>y</code> that are less than <code>10</code>. To do that, we can use one of <code>R</code>’s conditional logic operators: <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>==</code>, or <code>!=</code>. These, in order, stand for “less than,”greater than,“,”less than or equal to,” “greater than or equal to,” “equal to,” and “not equal to.”</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="how-to-work-with-r.html#cb73-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">&lt;</span> <span class="dv">10</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE FALSE</code></pre>
<p>We can then use this same set of logical values to select only the elements of <code>y</code> for which the condition is <code>TRUE</code>:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="how-to-work-with-r.html#cb75-1" aria-hidden="true" tabindex="-1"></a>y[y <span class="sc">&lt;</span> <span class="dv">10</span>]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>This is useful if we have a long vector (frequently) and do not want to list or are not able to list all of the actual indices that we want to select.</p>
</div>
<div id="complex-vectorslists-data.frame-and-tibble" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Complex vectors/lists: <code>data.frame</code> and <code>tibble</code><a href="how-to-work-with-r.html#complex-vectorslists-data.frame-and-tibble" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we have the basics of vectors, we can move on to the complex data object we’re really interested in: <code>berry_data</code>. This is a type of object called a <code>tibble</code>, which is a cute/fancy version of the more basic <code>R</code> object called a <code>data.frame</code>. These are <code>R</code>’s version of the <code>.csv</code> file or your typical Excel file: a rectangular matrix of data, with (usually) columns representing some variable and rows representing some kind of observation. Each row will have a value in each column or will be <code>NA</code>, which is <code>R</code>’s specific value to represent <strong>missing data</strong>.</p>
<p>In a <code>data.frame</code>, every column has to have only a single data type: a column might be <code>logical</code> or <code>integer</code> or <code>character</code>, but it cannot be a mix. However, each column can be a different type. For example, the first column in our <code>beer_data</code>, called <code>reviews</code>, is a <code>character</code> vector, but the third column, <code>beer_id</code>, is a <code>numeric</code> column.</p>
<p>We have now moved from 1-dimensional vectors to 2-dimensional data tables, which means we’re going to have some new properties to investigate. First off, we might want to know how many rows and columns our data table has:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="how-to-work-with-r.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(berry_data)</span></code></pre></div>
<pre><code>## [1] 7507</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="how-to-work-with-r.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(berry_data)</span></code></pre></div>
<pre><code>## [1] 92</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="how-to-work-with-r.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(berry_data) <span class="co"># Note that length() of a data.frame is the same as ncol()</span></span></code></pre></div>
<pre><code>## [1] 92</code></pre>
<p>We already tried running <code>str(berry_data)</code>, which gives us the data types of each column and an example. Some other ways to examine the data include the following:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="how-to-work-with-r.html#cb83-1" aria-hidden="true" tabindex="-1"></a>berry_data <span class="co"># simply printing the object</span></span>
<span id="cb83-2"><a href="how-to-work-with-r.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(berry_data) <span class="co"># show the first few rows</span></span>
<span id="cb83-3"><a href="how-to-work-with-r.html#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(berry_data) <span class="co"># show the last few rows</span></span>
<span id="cb83-4"><a href="how-to-work-with-r.html#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(berry_data) <span class="co"># a more compact version of str()</span></span>
<span id="cb83-5"><a href="how-to-work-with-r.html#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(berry_data) <span class="co"># get the variable/column names</span></span></code></pre></div>
<p>Some of these functions (for example, <code>glimpse()</code>) come from the <code>tidyverse</code> package, so if you are having trouble running a command, first make sure you have run <code>library(tidyverse)</code>.</p>
</div>
</div>
<div id="subsetting-and-wrangling-data-tables" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Subsetting and wrangling data tables<a href="how-to-work-with-r.html#subsetting-and-wrangling-data-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Since we now have 2 dimensions, our old strategy of using a single number to select a value from a vector won’t work! But the <code>[]</code> operator still works on data frames and tibbles. We just have to specify coordinates, as <code>[&lt;row&gt;, &lt;column&gt;]</code>.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="how-to-work-with-r.html#cb84-1" aria-hidden="true" tabindex="-1"></a>berry_data[<span class="dv">3</span>, <span class="dv">9</span>] <span class="co"># get the 3rd row, 9th column value</span></span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   `Sample Name`
##   &lt;chr&gt;        
## 1 raspberry 2</code></pre>
<p>We can continue to use ranges or vectors of indices to select larger parts of the table</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="how-to-work-with-r.html#cb86-1" aria-hidden="true" tabindex="-1"></a>berry_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">9</span>] <span class="co"># get the first 5 rows of the 9th column value</span></span></code></pre></div>
<pre><code>## # A tibble: 6 × 1
##   `Sample Name`
##   &lt;chr&gt;        
## 1 raspberry 6  
## 2 raspberry 5  
## 3 raspberry 2  
## 4 raspberry 3  
## 5 raspberry 4  
## 6 raspberry 1</code></pre>
<p>If we only want to subset on a specific dimension and get everything from the other dimension, we just leave it blank.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="how-to-work-with-r.html#cb88-1" aria-hidden="true" tabindex="-1"></a>berry_data[, <span class="dv">1</span>] <span class="co"># get all rows of the 1st column</span></span></code></pre></div>
<pre><code>## # A tibble: 7,507 × 1
##    `Subject Code`
##             &lt;dbl&gt;
##  1           1001
##  2           1001
##  3           1001
##  4           1001
##  5           1001
##  6           1001
##  7           1002
##  8           1002
##  9           1002
## 10           1002
## # ℹ 7,497 more rows</code></pre>
<p>We can also use logical subsetting, just like in vectors. This is very powerful but a bit complicated, so we are going to introduce some <code>tidyverse</code> based operators to do this that will make it a lot easier. I will just give an example:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="how-to-work-with-r.html#cb90-1" aria-hidden="true" tabindex="-1"></a>berry_data[berry_data<span class="sc">$</span>berry <span class="sc">==</span> <span class="st">&quot;raspberry&quot;</span>, ] <span class="co"># get all raspberry data</span></span></code></pre></div>
<pre><code>## # A tibble: 2,148 × 92
##    `Subject Code` `Participant Name` Gender Age   `Start Time (UTC)`
##             &lt;dbl&gt;              &lt;dbl&gt; &lt;lgl&gt;  &lt;lgl&gt; &lt;chr&gt;             
##  1           1001               1001 NA     NA    6/13/2019 21:05   
##  2           1001               1001 NA     NA    6/13/2019 20:55   
##  3           1001               1001 NA     NA    6/13/2019 20:49   
##  4           1001               1001 NA     NA    6/13/2019 20:45   
##  5           1001               1001 NA     NA    6/13/2019 21:00   
##  6           1001               1001 NA     NA    6/13/2019 21:10   
##  7           1002               1002 NA     NA    6/13/2019 20:08   
##  8           1002               1002 NA     NA    6/13/2019 19:57   
##  9           1002               1002 NA     NA    6/13/2019 20:13   
## 10           1002               1002 NA     NA    6/13/2019 20:03   
## # ℹ 2,138 more rows
## # ℹ 87 more variables: `End Time (UTC)` &lt;chr&gt;, `Serving Position` &lt;dbl&gt;,
## #   `Sample Identifier` &lt;dbl&gt;, `Sample Name` &lt;chr&gt;, `9pt_appearance` &lt;dbl&gt;,
## #   pre_expectation &lt;dbl&gt;, jar_color &lt;dbl&gt;, jar_gloss &lt;dbl&gt;, jar_size &lt;dbl&gt;,
## #   cata_appearance_unevencolor &lt;dbl&gt;, cata_appearance_misshapen &lt;dbl&gt;,
## #   cata_appearance_creased &lt;dbl&gt;, cata_appearance_seedy &lt;dbl&gt;,
## #   cata_appearance_bruised &lt;dbl&gt;, cata_appearance_notfresh &lt;dbl&gt;, …</code></pre>
<p>In this last example I also introduced the final bit of <code>tibble</code> and <code>data.frame</code> wrangling we will cover here: the <code>$</code> operator. This is the operator to select a single column from a <code>data.frame</code> or <code>tibble</code>. It gives you back the vector that makes up that column:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="how-to-work-with-r.html#cb92-1" aria-hidden="true" tabindex="-1"></a>berry_data<span class="sc">$</span>lms_overall <span class="co"># not printed because it is too long!</span></span>
<span id="cb92-2"><a href="how-to-work-with-r.html#cb92-2" aria-hidden="true" tabindex="-1"></a>berry_data<span class="sc">$</span><span class="st">`</span><span class="at">9pt_overall</span><span class="st">`</span> <span class="co"># column names starting with numbers or containing special characters like spaces need to be surrounded by backticks (`)</span></span></code></pre></div>
<p>One of the nice things about RStudio is that it provides tab-completion for <code>$</code>. Go to the console, type “ber” and hit <code>tab</code> (or just wait a second or two, if you use the default RStudio settings). You’ll see a list of possible matches, with <code>berry_data</code> at the top. Hit enter, and this will fill out the typing for you! Now, type “$” and hit <code>tab</code> again. You’ll see a list of the columns in <code>berry_data</code>! This can save a huge amount of typing and memorizing the names of variables and objects.</p>
<p>Now that we’ve gone over the basics of creating and manipulating objects in <code>R</code>, we’re going to run through the basics of data manipulation and visualization with the <code>tidyverse</code>. Before we move on to that topic, let’s address <strong>any questions</strong>.</p>
</div>
<div id="psa-not-knowing-is-normal" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> PSA: not-knowing is normal!<a href="how-to-work-with-r.html#psa-not-knowing-is-normal" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Above, I mentioned “help files”. How do we get help when we (inevitably) run into problems in R? There are a couple steps you will find helpful in the future:</p>
<ol style="list-style-type: decimal">
<li>Look up the help file for whatever you’re doing. Do this by using the syntax <code>?&lt;search item&gt;</code> (for example <code>?c</code> gets help on the vector command) as a shortcut on the console.</li>
<li>Search the help files for a term you think is related. Can’t remember the command for making a sequence of integers? Go to the “Help” pane in RStudio and search in the search box for “sequence”. See if some of the top results get you what you need.</li>
<li>The internet. Seriously. I am not kidding even a little bit. R has one of the most active and (surprisingly) helpful user communities I’ve ever encountered. Try going to google and searching for “How do I make a sequence of numbers in R?” You will find quite a bit of useful help. I find the following sites particularly helpful
<ol style="list-style-type: decimal">
<li><a href="https://stackoverflow.com/questions/tagged/r">Stack Overflow</a></li>
<li><a href="https://stats.stackexchange.com/questions/tagged/r">Cross Validated/Stack Exchange</a></li>
<li>Seriously, <a href="https://is.gd/80V5zF">Google will get you most of the way to helpful answers</a> for many basic R questions.</li>
</ol></li>
</ol>
<p>We may come back to this, but I want to emphasize that <strong>looking up help is normal</strong>. I do it all the time. Learning to ask questions in helpful ways, how to quickly parse the information you find, and how to slightly alter the answers to suit your particular situation are key skills.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="a-crash-course-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="wrangling-data-with-tidyverse-rows-columns-and-groups.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
